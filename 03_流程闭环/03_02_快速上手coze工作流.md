---
title: 快速上手Coze工作流
description: 掌握Coze工作流的基本操作，能够搭建AI驱动的智能工作流
---

# 快速上手Coze工作流

> **模块目标**: 掌握Coze工作流的基本操作，能够搭建简单的AI工作流

---

## 一、Coze基本介绍

### 1.1 Coze是什么

**Coze（扣子）**是字节跳动推出的AI Agent开发平台，让每个人都能构建自己的AI助手。

**核心定位**：
- 🤖 零代码构建AI应用
- 🔗 可视化工作流编排
- 📱 一键发布多平台

**为什么选择Coze**：
- 国内可直接访问，无需翻墙
- 个人用户免费使用
- AI能力强大（支持多种大模型）
- 上手简单，文档友好

### 1.2 Coze的核心功能

Coze提供四大核心功能：

| 功能模块 | 说明 | 用途 |
|---------|------|------|
| **Bot** | AI智能助手 | 对话式交互、问答 |
| **工作流** | 流程编排 | 多步骤任务自动化 |
| **插件** | 能力扩展 | 搜索、图片、文档处理 |
| **知识库** | 知识存储 | 企业知识问答 |

### 1.3 注册与基础配置

#### 注册步骤

1. 访问 [Coze官网](https://www.coze.cn/)
2. 使用手机号或抖音账号登录
3. 完成基本信息填写
4. 进入工作台

#### 界面介绍

```
Coze工作台
├── 首页：快速入口、模板推荐
├── Bot：管理你的AI助手
├── 工作流：创建和管理工作流
├── 插件：浏览和管理插件
├── 知识库：上传和管理知识
└── 个人设置：账号配置
```

---

## 二、节点类型详解

Coze工作流由各种节点组成，每个节点负责特定的任务。

### 2.1 基础节点

#### 开始节点

每个工作流的入口，定义输入参数。

```
开始节点的作用：
1. 定义工作流的触发方式
2. 设置输入变量（用户输入的内容）
3. 作为整个流程的起点

配置示例：
- 输入变量：user_question（用户问题）
- 变量类型：String（字符串）
- 描述：用户想要咨询的问题
```

#### 结束节点

工作流的出口，定义输出内容。

```
结束节点的作用：
1. 定义工作流的最终输出
2. 可以输出文本、数据等
3. 作为流程的终点

配置示例：
- 输出内容：{{llm_response}}
- 说明：将LLM生成的回答作为最终结果
```

#### LLM节点

调用大语言模型，是AI工作流的核心。

```
LLM节点的作用：
1. 调用AI大模型
2. 处理自然语言
3. 生成文本内容

配置项：
- 模型选择：GPT-4、豆包、通义千问等
- 系统提示词：定义AI的角色和行为
- 用户输入：传入需要处理的内容
- 温度：控制输出的随机性（0-1）
```

#### 知识库节点

检索知识库中的相关信息。

```
知识库节点的作用：
1. 从知识库中检索相关内容
2. 将检索结果传递给LLM
3. 增强AI回答的准确性

配置项：
- 选择知识库：指定要检索的知识库
- 查询内容：用户的问题或关键词
- 返回数量：返回最相关的N条结果
```

### 2.2 逻辑节点

#### 条件分支节点

根据条件执行不同的分支。

```
条件分支的作用：
如果条件A满足 → 执行分支A
否则如果条件B满足 → 执行分支B
否则 → 执行默认分支

使用场景：
- 根据用户意图分流
- 根据数据类型选择处理方式
- 错误处理分支
```

#### 循环节点

重复执行某个操作。

```
循环节点的作用：
对列表中的每个元素，重复执行相同操作

使用场景：
- 批量处理多条数据
- 遍历搜索结果
- 逐条生成内容
```

#### 并行节点

同时执行多个任务。

```
并行节点的作用：
多个分支同时执行，最后汇总结果

使用场景：
- 同时调用多个API
- 并行处理多个独立任务
- 提高执行效率
```

### 2.3 工具节点

#### 插件节点

调用Coze插件生态中的能力。

```
常用插件：
├── 搜索插件：必应搜索、谷歌搜索
├── 图片插件：图片生成、图片识别
├── 文档插件：PDF解析、Word处理
├── 天气插件：查询天气信息
└── 新闻插件：获取最新资讯
```

#### 代码节点

执行自定义代码（Python/JavaScript）。

```
代码节点的作用：
1. 处理复杂数据逻辑
2. 格式转换
3. 实现插件无法完成的功能

支持的语言：
- Python
- JavaScript
```

#### HTTP请求节点

调用外部API。

```
HTTP请求节点的作用：
1. 调用第三方API
2. 获取外部数据
3. 与其他系统集成

配置项：
- 请求方法：GET、POST、PUT、DELETE
- URL：API地址
- Headers：请求头
- Body：请求体
```

---

## 三、插件玩法

### 3.1 内置插件介绍

Coze提供了丰富的内置插件：

#### 搜索类插件

| 插件名称 | 功能 | 使用场景 |
|---------|------|---------|
| 必应搜索 | 搜索互联网信息 | 获取最新资讯 |
| 头条搜索 | 搜索新闻资讯 | 新闻收集 |

#### 图片类插件

| 插件名称 | 功能 | 使用场景 |
|---------|------|---------|
| 图片生成 | AI生成图片 | 创作配图 |
| 图片识别 | 识别图片内容 | 图片分析 |

#### 文档类插件

| 插件名称 | 功能 | 使用场景 |
|---------|------|---------|
| PDF解析 | 提取PDF文本 | 文档处理 |
| 链接读取 | 抓取网页内容 | 信息采集 |

### 3.2 插件配置方法

#### 步骤一：添加插件节点

1. 在工作流编辑器中，点击"+"添加节点
2. 选择"插件"类别
3. 找到需要的插件，点击添加

#### 步骤二：配置插件参数

```
以必应搜索为例：

配置项：
- 搜索关键词：{{user_query}}
- 结果数量：5
- 搜索范围：全网

参数说明：
- 搜索关键词：必填，支持变量引用
- 结果数量：可选，默认10条
- 搜索范围：可选，全网/新闻/图片
```

#### 步骤三：使用插件输出

```
插件输出格式：
{
  "results": [
    {"title": "标题1", "snippet": "摘要1", "url": "链接1"},
    {"title": "标题2", "snippet": "摘要2", "url": "链接2"}
  ]
}

引用方式：
- 在后续节点中使用 {{插件节点名.results}}
```

### 3.3 实战：使用插件增强工作流

**场景**：构建一个能够搜索最新信息并回答问题的AI助手

```
工作流设计：

开始节点 → 搜索插件 → LLM节点 → 结束节点
    ↓           ↓           ↓
 用户问题   搜索相关信息   整合回答    输出结果

详细配置：

1. 开始节点
   - 输入变量：question（用户问题）

2. 搜索插件
   - 搜索关键词：{{question}}
   - 结果数量：5

3. LLM节点
   - 系统提示词：
     你是一个智能助手。请根据搜索结果回答用户问题。
     如果搜索结果不足以回答问题，请诚实说明。
   - 用户输入：
     用户问题：{{question}}
     搜索结果：{{search.results}}

4. 结束节点
   - 输出：{{llm.response}}
```

---

## 四、添加一段代码

### 4.1 代码节点的作用

代码节点让你能够实现插件无法完成的复杂逻辑：

| 用途 | 说明 |
|-----|------|
| **数据处理** | 复杂的数据转换和计算 |
| **格式转换** | JSON、CSV等格式互转 |
| **字符串处理** | 文本截取、替换、拼接 |
| **条件逻辑** | 复杂的判断和分支 |

### 4.2 Python基础语法速查

在Coze代码节点中，常用的Python语法：

#### 变量与数据类型

```python
# 字符串
name = "张三"

# 数字
age = 25
price = 99.9

# 列表
items = ["苹果", "香蕉", "橙子"]

# 字典（JSON对象）
user = {"name": "张三", "age": 25}

# 访问字典
user_name = user["name"]
```

#### 常用操作

```python
# 字符串拼接
result = "你好，" + name

# 列表遍历
for item in items:
    print(item)

# 条件判断
if age > 18:
    result = "成年人"
else:
    result = "未成年"

# 获取列表长度
count = len(items)
```

#### 处理输入输出

```python
# Coze代码节点的输入输出
async def main(args):
    # 获取输入参数
    user_input = args.params["user_input"]
    
    # 处理数据
    result = user_input.upper()
    
    # 返回结果
    return {"output": result}
```

### 4.3 实战案例

#### 案例1：字符串处理

**需求**：将用户输入的文本转换为标题格式（首字母大写）

```python
async def main(args):
    # 获取输入
    text = args.params["text"]
    
    # 处理：转换为标题格式
    result = text.title()
    
    # 返回结果
    return {
        "title": result
    }
```

#### 案例2：数据计算

**需求**：计算一组数字的总和和平均值

```python
async def main(args):
    # 获取输入（列表）
    numbers = args.params["numbers"]
    
    # 计算
    total = sum(numbers)
    average = total / len(numbers)
    
    # 返回结果
    return {
        "total": total,
        "average": average,
        "count": len(numbers)
    }
```

#### 案例3：JSON操作

**需求**：从API返回的JSON中提取特定字段

```python
async def main(args):
    # 获取输入（JSON对象）
    data = args.params["api_response"]
    
    # 提取字段
    items = []
    for item in data["results"]:
        items.append({
            "title": item["title"],
            "url": item["url"]
        })
    
    # 返回结果
    return {
        "items": items,
        "count": len(items)
    }
```

---

## 五、实战案例：构建智能问答工作流

### 5.1 需求分析

**目标**：构建一个能够回答问题的AI助手，具备以下能力：
- 能够搜索最新信息
- 能够整合多个来源
- 给出有引用来源的回答

### 5.2 流程设计

```
工作流架构：

开始节点
    ↓
搜索插件（必应搜索）
    ↓
代码节点（处理搜索结果）
    ↓
LLM节点（生成回答）
    ↓
结束节点
```

### 5.3 逐步实现

#### 步骤1：创建工作流

1. 进入Coze工作台
2. 点击"工作流" → "创建工作流"
3. 命名为"智能问答助手"

#### 步骤2：配置开始节点

```
输入变量配置：
- 变量名：question
- 类型：String
- 描述：用户想要了解的问题
```

#### 步骤3：添加搜索插件

```
插件选择：必应搜索

参数配置：
- 搜索关键词：{{question}}
- 结果数量：5
```

#### 步骤4：添加代码节点

```python
async def main(args):
    # 获取搜索结果
    search_results = args.params["search_results"]
    
    # 格式化搜索结果
    formatted = ""
    sources = []
    
    for i, item in enumerate(search_results, 1):
        formatted += f"{i}. {item['title']}\n"
        formatted += f"   {item['snippet']}\n\n"
        sources.append(item['url'])
    
    return {
        "formatted_results": formatted,
        "sources": sources
    }
```

#### 步骤5：配置LLM节点

```
系统提示词：
你是一个专业的问答助手。请根据提供的搜索结果回答用户问题。
要求：
1. 回答要准确、有条理
2. 如果搜索结果不足以回答，请诚实说明
3. 在回答末尾标注信息来源

用户输入模板：
用户问题：{{question}}

搜索结果：
{{formatted_results}}
```

#### 步骤6：配置结束节点

```
输出内容：
{{llm.response}}

信息来源：
{{sources}}
```

### 5.4 测试与优化

#### 测试用例

| 测试问题 | 预期结果 |
|---------|---------|
| 今天北京天气 | 返回今日北京天气信息 |
| 最新的AI新闻 | 返回近期AI相关新闻 |
| Python是什么 | 返回Python的介绍 |

#### 常见优化方向

1. **提高搜索精准度**：优化搜索关键词
2. **增强回答质量**：调整LLM提示词
3. **添加错误处理**：搜索失败时的备选方案
4. **增加来源可信度**：筛选可信来源

---

## 六、本章小结

### 核心要点回顾

1. **Coze定位**：零代码AI应用开发平台，适合构建AI工作流
2. **节点类型**：基础节点（LLM、知识库）、逻辑节点（条件、循环）、工具节点（插件、代码）
3. **插件使用**：搜索、图片、文档等插件可快速扩展能力
4. **代码节点**：Python/JavaScript实现复杂逻辑

### 自检清单

完成本章学习后，问问自己：

- [ ] 我能独立创建一个Coze工作流吗？
- [ ] 我了解常用节点的作用和配置方法吗？
- [ ] 我能在工作流中使用插件吗？
- [ ] 我能用代码节点处理数据吗？
- [ ] 我已经构建了第一个AI工作流吗？

### 下一步

掌握Coze工作流后，你已具备云端AI工作流的能力：

**→ [快速上手n8n](03_03_快速上手n8n.md)**

在下一模块中，你将学习本地工作流工具n8n，掌握更多系统集成能力。

---

*Coze是AI工作流的最佳入门选择。从这里开始，你将开启工作流编排的旅程！*
